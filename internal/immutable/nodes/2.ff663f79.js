import{S as J,i as Q,s as W,k as b,l as g,m as y,h as _,n as h,b as k,G as v,H as P,M as R,e as S,N as te,q as I,a as N,r as C,c as O,E as p,u as K,O as re,P as x,Q as le,d as $,f as X,g as w,o as ne,v as Y,y as G,z as M,A as T,B as A}from"../chunks/index.5e964cb3.js";import{p as H,s as oe,c as Z,d as ae,r as ce,a as ie,b as se,e as fe,f as ue}from"../chunks/WalletSetup.10cdd305.js";import{u as de,H as _e,I as he}from"../chunks/InvalidChain.6fe68482.js";import{b as V}from"../chunks/paths.adfe590b.js";import{d as me,w as pe}from"../chunks/index.7967fdd8.js";const be=!0,xe=Object.freeze(Object.defineProperty({__proto__:null,prerender:be},Symbol.toStringTag,{value:"Module"}));function*ge(n,t,r){if(r=r||1,typeof t>"u"&&(t=0),n>t){r=Math.abs(r)*-1;for(let e=n;e>t;e+=r)yield e}else for(let e=n;e<t;e+=r)yield e}function q(n,t,r){return typeof t>"u"&&(t=n>0?0:n,n=n>0?n:0),Array.from(ge(n,t,r))}function ve(n){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",e=0;for(;e<n.length;){const l=t.indexOf(n[e++]),c=t.indexOf(n[e++]),f=t.indexOf(n[e++]),u=t.indexOf(n[e++]),o=l<<2|c>>4,i=(c&15)<<4|f>>2,a=(f&3)<<6|u;r+=String.fromCharCode(o),f!==64&&(r+=String.fromCharCode(i)),u!==64&&(r+=String.fromCharCode(a))}return r}function ke(n){return decodeURIComponent(ve(n).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""))}const ee=pe(0);let D=!1,E=null;const ye=me([H,oe,Z],([n,t,r],e)=>{if(!n||!r.rge||!t)return e({});E=H.subscribe(async l=>{if(!l||D){E&&(E(),E=null,console.log("Unsubscribed"));return}console.log("New Provider",D),D=!0,l.on("block",async c=>{if(console.log("New Block",c),r.rge){let f=[];const u=await r.rge.totalSupply();ee.set(u);const o=u-6<0?0:u-6,i=u;for(let a=o;a<i;a++){const d=(await r.rge.tokenURI(a)).replace(/^data:\w+\/\w+;base64,/,""),m=JSON.parse(ke(d));f[a]=m,f.minFloorPrice=0}console.log(f),e(f)}})})});function F(n,t,r){const e=n.slice();return e[3]=t[r],e}function z(n){let t,r,e={ctx:n,current:null,token:null,hasCatch:!1,pending:Se,then:we,catch:$e,value:2};return R(r=n[0].rge.totalSupply(),e),{c(){t=S(),e.block.c()},l(l){t=S(),e.block.l(l)},m(l,c){k(l,t,c),e.block.m(l,e.anchor=c),e.mount=()=>t.parentNode,e.anchor=t},p(l,c){n=l,e.ctx=n,c&1&&r!==(r=n[0].rge.totalSupply())&&R(r,e)||te(e,n,c)},d(l){l&&_(t),e.block.d(l),e.token=null,e=null}}}function $e(n){return{c:v,l:v,m:v,p:v,d:v}}function we(n){let t,r,e,l=n[2]+"",c,f,u=q(n[2]-0,n[2]-5,1),o=[];for(let i=0;i<u.length;i+=1)o[i]=L(F(n,u,i));return{c(){t=b("div"),r=b("p"),e=I("Total "),c=I(l),f=N();for(let i=0;i<o.length;i+=1)o[i].c();this.h()},l(i){t=g(i,"DIV",{class:!0});var a=y(t);r=g(a,"P",{class:!0});var s=y(r);e=C(s,"Total "),c=C(s,l),s.forEach(_),f=O(a);for(let d=0;d<o.length;d+=1)o[d].l(a);a.forEach(_),this.h()},h(){h(r,"class","py-4 text-white text-center text-3xl"),h(t,"class","flex flex-col items-evenly justify-evenly min-h-[90vh]")},m(i,a){k(i,t,a),p(t,r),p(r,e),p(r,c),p(t,f);for(let s=0;s<o.length;s+=1)o[s]&&o[s].m(t,null)},p(i,a){if(a&1&&l!==(l=i[2]+"")&&K(c,l),a&3){u=q(i[2]-0,i[2]-5,1);let s;for(s=0;s<u.length;s+=1){const d=F(i,u,s);o[s]?o[s].p(d,a):(o[s]=L(d),o[s].c(),o[s].m(t,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=u.length}},d(i){i&&_(t),re(o,i)}}}function B(n){let t,r,e,l=n[3]+"",c,f,u,o,i,a,s;return{c(){t=b("div"),r=b("p"),e=I("ID: "),c=I(l),f=N(),u=b("a"),o=b("img"),s=N(),this.h()},l(d){t=g(d,"DIV",{class:!0});var m=y(t);r=g(m,"P",{class:!0});var j=y(r);e=C(j,"ID: "),c=C(j,l),j.forEach(_),f=O(m),u=g(m,"A",{href:!0});var U=y(u);o=g(U,"IMG",{class:!0,alt:!0,src:!0}),U.forEach(_),s=O(m),m.forEach(_),this.h()},h(){h(r,"class","text-white text-xl pl-10"),h(o,"class","pxl justify-center items-center mx-auto my-4"),h(o,"alt","NFT"),x(o.src,i=n[1][n[3]].image)||h(o,"src",i),h(u,"href",a=V+"/graffiti?i="+n[3]),h(t,"class","px-4 mt-2")},m(d,m){k(d,t,m),p(t,r),p(r,e),p(r,c),p(t,f),p(t,u),p(u,o),p(t,s)},p(d,m){m&1&&l!==(l=d[3]+"")&&K(c,l),m&3&&!x(o.src,i=d[1][d[3]].image)&&h(o,"src",i),m&1&&a!==(a=V+"/graffiti?i="+d[3])&&h(u,"href",a)},d(d){d&&_(t)}}}function L(n){let t,r=n[3]>=0&&n[3]<n[2]&&n[1]&&B(n);return{c(){r&&r.c(),t=S()},l(e){r&&r.l(e),t=S()},m(e,l){r&&r.m(e,l),k(e,t,l)},p(e,l){e[3]>=0&&e[3]<e[2]&&e[1]?r?r.p(e,l):(r=B(e),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(e){r&&r.d(e),e&&_(t)}}}function Se(n){let t,r;return{c(){t=b("h1"),r=I("Loading..."),this.h()},l(e){t=g(e,"H1",{class:!0});var l=y(t);r=C(l,"Loading..."),l.forEach(_),this.h()},h(){h(t,"class","text-white text-center h-56")},m(e,l){k(e,t,l),p(t,r)},p:v,d(e){e&&_(t)}}}function Ie(n){let t,r=n[0].rge&&z(n);return{c(){t=b("div"),r&&r.c(),this.h()},l(e){t=g(e,"DIV",{class:!0});var l=y(t);r&&r.l(l),l.forEach(_),this.h()},h(){h(t,"class","min-h-screen")},m(e,l){k(e,t,l),r&&r.m(t,null)},p(e,[l]){e[0].rge?r?r.p(e,l):(r=z(e),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},i:v,o:v,d(e){e&&_(t),r&&r.d()}}}function Ce(n,t,r){let e,l,c;return P(n,Z,f=>r(0,l=f)),P(n,ye,f=>r(1,c=f)),ae.attachContract("rge",ce.address,ie.abi),r(2,e=ee),[l,c,e]}class Ee extends J{constructor(t){super(),Q(this,t,Ce,Ie,W,{})}}function Pe(n){let t,r;return t=new _e({}),{c(){G(t.$$.fragment)},l(e){M(t.$$.fragment,e)},m(e,l){T(t,e,l),r=!0},p:v,i(e){r||(w(t.$$.fragment,e),r=!0)},o(e){$(t.$$.fragment,e),r=!1},d(e){A(t,e)}}}function Ne(n){let t,r,e,l;const c=[je,Oe],f=[];function u(o,i){return o[1]!==ue?0:1}return t=u(n),r=f[t]=c[t](n),{c(){r.c(),e=S()},l(o){r.l(o),e=S()},m(o,i){f[t].m(o,i),k(o,e,i),l=!0},p(o,i){let a=t;t=u(o),t!==a&&(Y(),$(f[a],1,1,()=>{f[a]=null}),X(),r=f[t],r||(r=f[t]=c[t](o),r.c()),w(r,1),r.m(e.parentNode,e))},i(o){l||(w(r),l=!0)},o(o){$(r),l=!1},d(o){f[t].d(o),o&&_(e)}}}function Oe(n){let t,r;return t=new Ee({}),{c(){G(t.$$.fragment)},l(e){M(t.$$.fragment,e)},m(e,l){T(t,e,l),r=!0},i(e){r||(w(t.$$.fragment,e),r=!0)},o(e){$(t.$$.fragment,e),r=!1},d(e){A(t,e)}}}function je(n){let t,r;return t=new he({}),{c(){G(t.$$.fragment)},l(e){M(t.$$.fragment,e)},m(e,l){T(t,e,l),r=!0},i(e){r||(w(t.$$.fragment,e),r=!0)},o(e){$(t.$$.fragment,e),r=!1},d(e){A(t,e)}}}function De(n){let t,r,e,l,c,f;const u=[Ne,Pe],o=[];function i(a,s){return a[0]?0:1}return l=i(n),c=o[l]=u[l](n),{c(){t=b("meta"),r=N(),e=b("div"),c.c(),this.h()},l(a){const s=le("svelte-1v7pih3",document.head);t=g(s,"META",{name:!0,content:!0}),s.forEach(_),r=O(a),e=g(a,"DIV",{});var d=y(e);c.l(d),d.forEach(_),this.h()},h(){document.title="Graffiti",h(t,"name","description"),h(t,"content","Graffiti")},m(a,s){p(document.head,t),k(a,r,s),k(a,e,s),o[l].m(e,null),f=!0},p(a,[s]){let d=l;l=i(a),l===d?o[l].p(a,s):(Y(),$(o[d],1,1,()=>{o[d]=null}),X(),c=o[l],c?c.p(a,s):(c=o[l]=u[l](a),c.c()),w(c,1),c.m(e,null))},i(a){f||(w(c),f=!0)},o(a){$(c),f=!1},d(a){_(t),a&&_(r),a&&_(e),o[l].d()}}}function Ge(n,t,r){let e,l;return P(n,se,c=>r(0,e=c)),P(n,fe,c=>r(1,l=c)),ne(()=>{de()}),[e,l]}class He extends J{constructor(t){super(),Q(this,t,Ge,De,W,{})}}export{He as component,xe as universal};
